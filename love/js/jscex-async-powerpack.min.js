// build time:Mon Nov 13 2017 19:24:11 GMT+0800 (CST)
(function(){var e=function(e){if(e.length<=1)return null;for(var t=[],n=1;n<e.length;n++)t.push(e[n]);return t},t=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r]);for(;n.length<t;)n.push(void 0);return n},n=function(n){if(!n.modules["async-powerpack"]){if(!n.modules.async)throw Error('Missing essential components, please initialize "jscex-async" module first.');var r=n.Async,i=r.Task,s=r.CanceledError;r.sleep=function(e,t){return i.create(function(n){t&&t.isCancellationRequested&&n.complete("failure",new s);var r,i;t&&(i=function(){clearTimeout(r);n.complete("failure",new s)});r=setTimeout(function(){t&&t.unregister(i);n.complete("success")},e);t&&t.register(i)})};r.onEvent=function(e,t,n){return i.create(function(r){n&&n.isCancellationRequested&&r.complete("failure",new s);var i=function(){e.removeEventListener?e.removeEventListener(t,o):e.removeListener?e.removeListener(t,o):e.detachEvent(t,o)},o,c;n&&(c=function(){i();r.complete("failure",new s)});o=function(e){n&&n.unregister(c);i();r.complete("success",e)};e.addEventListener?e.addEventListener(t,o):e.addListener?e.addListener(t,o):e.attachEvent(t,o);n&&n.register(c)})};i.whenAll=function(){var e={},t;if(arguments.length==1){var n=arguments[0];i.isTask(n)?(e[0]=n,t=!0):(e=n,t=Object.prototype.toString.call(e)==="[object Array]")}else{for(n=0;n<arguments.length;n++)e[n]=arguments[n];t=!0}return i.create(function(n){var r={},s;for(s in e)if(e.hasOwnProperty(s)){var o=e[s];i.isTask(o)&&(r[o.id]=s)}for(var c in r)o=e[r[c]],o.status=="ready"&&o.start();for(c in r)if(o=e[r[c]],o.error){n.complete("failure",o.error);return}var a=t?[]:{},u=function(t){if(t.error){for(var i in r)e[r[i]].removeEventListener("complete",u);n.complete("failure",t.error)}else a[r[t.id]]=t.result,delete r[t.id],f--,f==0&&n.complete("success",a)},f=0;for(c in r)s=r[c],o=e[s],o.status=="succeeded"?(a[s]=o.result,delete r[o.id]):(f++,o.addEventListener("complete",u));f==0&&n.complete("success",a)})};i.whenAny=function(){var e={};if(arguments.length==1){var t=arguments[0];i.isTask(t)?e[0]=t:e=t}else for(t=0;t<arguments.length;t++)e[t]=arguments[t];return i.create(function(t){var n={},r;for(r in e)if(e.hasOwnProperty(r)){var s=e[r];i.isTask(s)&&(n[s.id]=r)}for(var o in n)s=e[n[o]],s.status=="ready"&&s.start();for(o in n)if(r=n[o],s=e[r],s.error||s.status=="succeeded"){t.complete("success",{key:r,task:s});return}var c=function(r){for(var i in n)e[n[i]].removeEventListener("complete",c);t.complete("success",{key:n[r.id],task:r})};for(o in n)e[n[o]].addEventListener("complete",c)})};if(!r.Jscexify)r.Jscexify={};r=r.Jscexify;r.fromStandard=function(n){var r=e(arguments);return function(){var e=this,s=t(arguments,n.length-1);return i.create(function(t){s.push(function(e,n){if(e)t.complete("failure",e);else if(r){for(var i={},s=0;s<r.length;s++)i[r[s]]=arguments[s+1];return t.complete("success",i)}else t.complete("success",n)});n.apply(e,s)})}};r.fromCallback=function(n){var r=e(arguments);return function(){var e=this,s=t(arguments,n.length-1);return i.create(function(t){s.push(function(e){if(r){for(var n={},i=0;i<r.length;i++)n[r[i]]=arguments[i];t.complete("success",n)}else t.complete("success",e)});n.apply(e,s)})}};n.modules["async-powerpack"]=!0}},r=typeof define==="function"&&!define.amd,i=typeof require==="function"&&typeof define==="function"&&define.amd;if(typeof require==="function"&&typeof module!=="undefined"&&module.exports)module.exports.init=n;else if(r)define("jscex-async-powerpack",["jscex-async"],function(e,t,r){r.exports.init=n});else if(i)define("jscex-async-powerpack",["jscex-async"],function(){return{init:n}});else{if(typeof Jscex==="undefined")throw Error('Missing the root object, please load "jscex" module first.');n(Jscex)}})();
//rebuild by neat 