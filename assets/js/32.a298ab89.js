(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{191:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"content"},[s._m(0),s._v(" "),n("blockquote",[n("p",[s._v("参考文章1: "),n("a",{attrs:{href:"http://www.cnblogs.com/cnkai/p/7514828.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Python中yield和yield from的用法"),n("OutboundLink")],1)])]),s._v(" "),n("blockquote",[n("p",[s._v("参考文章2: "),n("a",{attrs:{href:"https://segmentfault.com/a/1190000009781688",target:"_blank",rel:"noopener noreferrer"}},[s._v("python协程2：yield from 从入门到精通"),n("OutboundLink")],1)])]),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4),n("p",[s._v("可以改写(简化)为:")]),s._v(" "),s._m(5),n("p",[s._v("下面来看一个复杂点的例子：源码来自"),n("a",{attrs:{href:"https://github.com/dabeaz/python-cookbook/blob/master/src/4/how_to_flatten_a_nested_sequence/example.py",target:"_blank",rel:"noopener noreferrer"}},[s._v("Python cookbook 3"),n("OutboundLink")],1)]),s._v(" "),s._m(6),s._m(7),s._v(" "),s._m(8),s._v(" "),s._m(9),s._v(" "),s._m(10),s._v(" "),s._m(11),s._v(" "),n("blockquote",[n("p",[s._v("额外资源: Sokolovsky 的 "),n("a",{attrs:{href:"http://flupy.org/resources/yield-from.pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v('How Python 3.3 "yield from" construct works'),n("OutboundLink")],1)])]),s._v(" "),s._m(12),s._v(" "),s._m(13),s._v(" "),s._m(14),s._m(15),s._v(" "),n("p",[s._v("执行结果为:")]),s._v(" "),s._m(16),n("p",[s._v("这断代码展示了yield from 结构最简单的用法。委派生成器相当于管道，所以可以把任意数量的委派生成器连接在一起---一个委派生成器使用yield from 调用一个子生成器，而那个子生成器本身也是委派生成器，使用yield from调用另一个生成器。最终以一个只是用yield表达式的生成器（或者任意可迭代对象）结束。")]),s._v(" "),s._m(17),s._v(" "),s._m(18),s._v(" "),s._m(19),s._v(" "),n("hr"),s._v(" "),s._m(20),s._v(" "),n("p",[s._v("我们一般用到的简单生成器都是单层的, 并没有嵌套. 但是如果是多个生成器嵌套会怎样呢?如下:")]),s._v(" "),s._m(21),s._m(22),s._v(" "),s._m(23),s._v(" "),s._m(24),s._m(25)])},[function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"yield-from"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yield-from","aria-hidden":"true"}},[this._v("#")]),this._v(" yield from")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"yield-from-基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yield-from-基础","aria-hidden":"true"}},[this._v("#")]),this._v(" yield from 基础")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[n("code",[s._v("yield from")]),s._v("是"),n("code",[s._v("Python 3.3")]),s._v("后新加的语言结构. 它表示"),n("strong",[s._v("当在生成器"),n("code",[s._v("gen")]),s._v("中使用"),n("code",[s._v("yield from subgen")]),s._v("时, "),n("code",[s._v("subgen")]),s._v("会获得控制权, 把产出的值传给"),n("code",[s._v("gen")]),s._v("的调用方")]),s._v(", 即调用方可以直接控制"),n("code",[s._v("subgen")]),s._v(". 与此同时, "),n("code",[s._v("gen")]),s._v("会阻塞, 等待"),n("code",[s._v("subgen")]),s._v("终止.")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v("yield from")]),this._v("可以用于简化"),t("code",[this._v("for")]),this._v("循环中的"),t("code",[this._v("yield")]),this._v("表达式. 例如:")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("gen")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" c "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'AB'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" c\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("range")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" i\n\n"),n("span",{attrs:{class:"token builtin"}},[s._v("list")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gen"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 下面是执行结果")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token string"}},[s._v("'A'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'B'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("gen")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'AB'")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("range")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{attrs:{class:"token builtin"}},[s._v("list")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gen"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 下面是执行结果")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token string"}},[s._v("'A'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'B'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token comment"}},[s._v("# 一个使用子生成器将嵌套序列展开的例子")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" collections "),n("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Iterable\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("flatten")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("items"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ignore_types"),n("span",{attrs:{class:"token operator"}},[s._v("=")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token builtin"}},[s._v("str")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("bytes")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" x "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" items"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("isinstance")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Iterable"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("isinstance")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ignore_types"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" flatten"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("else")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" x\n\nitems "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("1")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("2")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("3")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("4")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("5")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("6")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("7")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("8")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 生成1 2 3 4 5 6  7 8")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" x "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" flatten"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("items"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("print")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nitems "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token string"}},[s._v("'Dave'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'Paula'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token string"}},[s._v("'Thomas'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'Lewis'")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" x "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" flatten"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("items"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("print")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("p",[n("code",[s._v("yield from x")]),s._v("表达式对"),n("code",[s._v("x")]),s._v("对象做的第一件事是: 调用"),n("code",[s._v("iter(x)")]),s._v(", 获取迭代器, 所以要求"),n("code",[s._v("x")]),s._v("是可迭代对象.")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v("yield from")]),this._v("的主要功能是打开双向通道, 把最外层的调用方和最内层的子生成器连接起来, 使两者可以直接发送和产出值, 还可以直接传入异常, 而不用在中间的协程添加异常处理的代码.")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v("yield from")]),this._v("包含几个概念:")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ul",[n("li",[s._v("委派生成器: 包含"),n("code",[s._v("yield from <Iterable>")]),s._v("表达式的生成器函数")]),s._v(" "),n("li",[s._v("子生成器: 从"),n("code",[s._v("yield from <Iterable>")]),s._v("部分获取的生成器")]),s._v(" "),n("li",[s._v("调用方: 调用委派生成器的客户端(调用方)代码")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("下面的图是对"),t("code",[this._v("yield from")]),this._v("的调用过程:")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"yield-from-实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yield-from-实例","aria-hidden":"true"}},[this._v("#")]),this._v(" yield from 实例")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("下面是对"),t("code",[this._v("yield from")]),this._v("应用的一个例子:")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" collections "),n("span",{attrs:{class:"token keyword"}},[s._v("import")]),s._v(" namedtuple\n\nResult "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" namedtuple"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'Result'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'count average'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("averager")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    total "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("0.0")]),s._v("\n    count "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("0")]),s._v("\n    average "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token boolean"}},[s._v("None")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{attrs:{class:"token boolean"}},[s._v("True")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        term "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" term "),n("span",{attrs:{class:"token keyword"}},[s._v("is")]),s._v(" "),n("span",{attrs:{class:"token boolean"}},[s._v("None")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n        total "),n("span",{attrs:{class:"token operator"}},[s._v("+=")]),s._v(" term\n        count "),n("span",{attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),s._v("\n        average "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" total "),n("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v(" count\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Result"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("count"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" average"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("grouper")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" key"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{attrs:{class:"token boolean"}},[s._v("True")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        results"),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" averager"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("main")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    results "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" key"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" values "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" data"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("items"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        group "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" grouper"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("results"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" key"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{attrs:{class:"token builtin"}},[s._v("next")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("group"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" value "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" values"),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            group"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        group"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token boolean"}},[s._v("None")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    report"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("results"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("report")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("results"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" key"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("sorted")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("results"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("items"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        group"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unit "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" key"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("split"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("';'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("print")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token string"}},[s._v("'{:2} {:5} averaging {:.2f}{}'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{attrs:{class:"token builtin"}},[s._v("format")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("count"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" group"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("average"),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" unit"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\ndata "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v("'girls;kg'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("40")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("41")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("42")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("43")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("44")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("54")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v("'girls;m'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("1.5")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.6")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.8")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.5")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.45")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.6")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v("'boys;kg'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("50")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("51")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("62")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("53")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("54")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("54")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{attrs:{class:"token string"}},[s._v("'boys;m'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{attrs:{class:"token number"}},[s._v("1.6")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.8")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.8")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.7")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.55")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1.6")]),n("span",{attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),n("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'__main__'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    main"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("这段代码是从一个字典中读取男生和女生的身高和体重. 然后把数据传给之前定义的"),t("code",[this._v("averager")]),this._v("协程, 最后生成一个报告.")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token number"}},[s._v("6")]),s._v(" boys  averaging "),n("span",{attrs:{class:"token number"}},[s._v("54.")]),s._v("00kg\n"),n("span",{attrs:{class:"token number"}},[s._v("6")]),s._v(" boys  averaging "),n("span",{attrs:{class:"token number"}},[s._v("1.")]),s._v("68m\n"),n("span",{attrs:{class:"token number"}},[s._v("6")]),s._v(" girls averaging "),n("span",{attrs:{class:"token number"}},[s._v("44.")]),s._v("00kg\n"),n("span",{attrs:{class:"token number"}},[s._v("6")]),s._v(" girls averaging "),n("span",{attrs:{class:"token number"}},[s._v("1.")]),s._v("58m\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"yield-from-的意义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yield-from-的意义","aria-hidden":"true"}},[this._v("#")]),this._v(" yield from 的意义")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",[this._v("PEP380")]),this._v("分 6 点说明了"),t("code",[this._v("yield from")]),this._v("的行为.")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ul",[n("li",[s._v("子生成器产出的值都直接传给委派生成器的调用方(客户端代码)")]),s._v(" "),n("li",[s._v("使用"),n("code",[s._v("send()")]),s._v("方法发给委派生成器的值都直接传给子生成器. 如果发送的值是"),n("code",[s._v("None")]),s._v(", 那么会调用子生成器的"),n("code",[s._v("__next__()")]),s._v("方法. 如果发送的值不是"),n("code",[s._v("None")]),s._v(", 那么会调用子生成器的"),n("code",[s._v("send()")]),s._v("方法. 如果调用的方法抛出"),n("code",[s._v("StopIteration")]),s._v("异常, 那么委派生成器恢复运行. 其他任何异常都会向上冒, 传给委派生成器.")]),s._v(" "),n("li",[s._v("生成器退出时, 生成器(或子生成器)中的"),n("code",[s._v("return expr")]),s._v("表达式会触发"),n("code",[s._v("StopIteration(expr)")]),s._v("异常.")]),s._v(" "),n("li",[n("code",[s._v("yield from")]),s._v("表达式的值是子生成器终止时传给"),n("code",[s._v("StopIteration")]),s._v("异常的第一个参数.")]),s._v(" "),n("li",[s._v("传入委派生成器的异常, 除了"),n("code",[s._v("GeneratorExit")]),s._v("之外都传给子生成器的"),n("code",[s._v("throw()")]),s._v("方法. 如果调用"),n("code",[s._v("throw()")]),s._v("方法时抛出"),n("code",[s._v("StopIteration")]),s._v("异常, 委派生成器恢复运行. "),n("code",[s._v("StopIteration")]),s._v("之外的异常会向上冒泡, 传递给委派生成器.")]),s._v(" "),n("li",[s._v("如果把"),n("code",[s._v("GeneratorExit")]),s._v("异常传入委派生成器, 或者在委派生成器上调用"),n("code",[s._v("close()")]),s._v("方法, 那么在子生成器上调用"),n("code",[s._v("close()")]),s._v("方法, 如果它有的话. 如果调用"),n("code",[s._v("close()")]),s._v("方法导致异常抛出, 那么异常会向上冒泡, 传给委派生成器; 否则, 委派生成器抛出"),n("code",[s._v("GeneratorExit")]),s._v("异常.")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"另一个例子"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#另一个例子","aria-hidden":"true"}},[this._v("#")]),this._v(" 另一个例子")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("func_inner")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    i "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{attrs:{class:"token boolean"}},[s._v("True")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        i "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" i\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("func_outer")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    a "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("0")]),s._v("\n    b "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("1")]),s._v("\n    inner "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" func_inner"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    inner"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token boolean"}},[s._v("None")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{attrs:{class:"token boolean"}},[s._v("True")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        a "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" inner"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        b "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" a\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),n("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'__main__'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    outer "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" func_outer"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    outer"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token boolean"}},[s._v("None")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("range")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("5")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("print")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("outer"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 下面是运行结果")]),s._v("\n"),n("span",{attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),n("span",{attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),n("span",{attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),n("span",{attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("在两层嵌套的情况下, 值的传递方式是: 先把值传递给外层生成器, 外层生成器再将值传递给内层生成器, 内层生成器再将值反向传递给外层生成器, 最终"),t("code",[this._v("yield")]),this._v("出结果. 如果嵌套的层次更多, 此传递过程将会更加麻烦.")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("下面使用"),t("code",[this._v("yield from")]),this._v("实现:")])},function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("func_inner")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    i "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),n("span",{attrs:{class:"token boolean"}},[s._v("True")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        i "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" i\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{attrs:{class:"token function"}},[s._v("func_outer")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" "),n("span",{attrs:{class:"token keyword"}},[s._v("from")]),s._v(" func_inner"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),n("span",{attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{attrs:{class:"token string"}},[s._v("'__main__'")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    outer "),n("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" func_outer"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    outer"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token boolean"}},[s._v("None")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i "),n("span",{attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{attrs:{class:"token builtin"}},[s._v("range")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{attrs:{class:"token number"}},[s._v("5")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{attrs:{class:"token keyword"}},[s._v("print")]),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("outer"),n("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("send"),n("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{attrs:{class:"token comment"}},[s._v("# 执行结果不变")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("所以, 嵌套传值的时候, 并不需要我们手动实现, "),t("code",[this._v("yield from")]),this._v("已经会帮我们完美处理.")])}],!1,null,null,null);e.options.__file="yieldfrom.md";t.default=e.exports}}]);